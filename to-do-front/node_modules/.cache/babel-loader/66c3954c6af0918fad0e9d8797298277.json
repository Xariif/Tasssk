{"ast":null,"code":"var _jsxFileName = \"/Users/jakub/Documents/GitHub/To-Do/to-do-front/src/components/pages/List/Bar/File/Actions/Add.js\",\n    _s = $RefreshSig$();\n\nimport { FileUpload } from \"primereact/fileupload\";\nimport { useToastContext } from \"../../../../../../context/ToastContext\";\nimport { useRef } from \"react\";\nimport { Tag } from \"primereact/tag\";\nimport { ProgressBar } from \"primereact/progressbar\";\nimport { useState } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Dialog } from \"primereact/dialog\";\nimport { AddFile } from \"../../../../../../services/ToDoService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Add = _ref => {\n  _s();\n\n  let {\n    list\n  } = _ref;\n  const [uploadFileDialog, setUploadFileDialog] = useState(false);\n  const toastRef = useToastContext();\n  const fileUploadRef = useRef(null);\n\n  const onTemplateRemove = (file, callback) => {\n    callback();\n  };\n\n  const itemTemplate = (file, props) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex align-items-center flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex align-items-center\",\n        style: {\n          width: \"40%\"\n        },\n        children: [file.type === \"image/svg+xml\" || file.type === \"image/jpeg\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: file.name,\n          role: \"presentation\",\n          src: file.objectURL,\n          width: 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex flex-column text-left ml-3\",\n          children: [file.name, /*#__PURE__*/_jsxDEV(\"small\", {\n            children: new Date().toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tag, {\n        value: props.formatSize,\n        severity: \"warning\",\n        className: \"px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        icon: \"pi pi-times\",\n        className: \"p-button-outlined p-button-rounded p-button-danger ml-auto\",\n        onClick: () => onTemplateRemove(file, props.onRemove)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this);\n  };\n\n  const emptyTemplate = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex align-items-center flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"pi pi-image mt-3 p-5\",\n        style: {\n          fontSize: \"5em\",\n          borderRadius: \"50%\",\n          backgroundColor: \"var(--surface-b)\",\n          color: \"var(--surface-d)\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"1.2em\",\n          color: \"var(--text-color-secondary)\"\n        },\n        className: \"my-5\",\n        children: \"Drag and Drop Image Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  };\n\n  const chooseOptions = {\n    label: \"Add \",\n    icon: \"pi pi-plus\",\n    className: \"custom-cancel-btn p-button-success p-button-rounded p-button-outlined\"\n  };\n  const uploadOptions = {\n    label: \"Send \",\n    icon: \"pi pi-upload\",\n    className: \"custom-cancel-btn p-button-warning p-button-rounded p-button-outlined\"\n  };\n  const cancelOptions = {\n    label: \"Cancel\",\n    icon: \"pi pi-fw pi-times\",\n    className: \"custom-cancel-btn p-button-danger p-button-rounded p-button-outlined\"\n  };\n\n  const uploadHandler = event => {\n    console.log(\"ðŸš€ ~ file: Add.js ~ line 93 ~ uploadHandler ~ event\", event);\n    const body = {\n      listId: list.id,\n      files: event.files\n    };\n    AddFile(body).then(res => {\n      setUploadFileDialog(false);\n      toastRef.current.show({\n        severity: \"info\",\n        summary: \"Success\",\n        detail: \"Uploaded\"\n      });\n    }).catch(() => {\n      toastRef.current.show({\n        severity: \"error\",\n        summary: \"Error\",\n        detail: \"Cannot upload files\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      visible: uploadFileDialog,\n      draggable: false,\n      onHide: () => setUploadFileDialog(false),\n      style: {\n        width: \"50vw\"\n      },\n      header: \"Add files\",\n      children: /*#__PURE__*/_jsxDEV(FileUpload, {\n        ref: fileUploadRef,\n        itemTemplate: itemTemplate,\n        emptyTemplate: emptyTemplate,\n        chooseOptions: chooseOptions,\n        uploadOptions: uploadOptions,\n        cancelOptions: cancelOptions,\n        multiple: true,\n        customUpload: true,\n        uploadHandler: uploadHandler,\n        maxFileSize: 1000000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      label: \"Add\",\n      icon: \"pi pi-plus\",\n      className: \"p-button-rounded p-button-success\",\n      onClick: () => setUploadFileDialog(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Add, \"q72X2YNJIeW/nsGnXiLMDF2w9wU=\", false, function () {\n  return [useToastContext];\n});\n\n_c = Add;\n\nvar _c;\n\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["FileUpload","useToastContext","useRef","Tag","ProgressBar","useState","Button","Dialog","AddFile","Add","list","uploadFileDialog","setUploadFileDialog","toastRef","fileUploadRef","onTemplateRemove","file","callback","itemTemplate","props","width","type","name","objectURL","Date","toLocaleDateString","formatSize","onRemove","emptyTemplate","fontSize","borderRadius","backgroundColor","color","chooseOptions","label","icon","className","uploadOptions","cancelOptions","uploadHandler","event","console","log","body","listId","id","files","then","res","current","show","severity","summary","detail","catch"],"sources":["/Users/jakub/Documents/GitHub/To-Do/to-do-front/src/components/pages/List/Bar/File/Actions/Add.js"],"sourcesContent":["import { FileUpload } from \"primereact/fileupload\";\nimport { useToastContext } from \"../../../../../../context/ToastContext\";\nimport { useRef } from \"react\";\nimport { Tag } from \"primereact/tag\";\nimport { ProgressBar } from \"primereact/progressbar\";\nimport { useState } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Dialog } from \"primereact/dialog\";\nimport { AddFile } from \"../../../../../../services/ToDoService\";\nexport const Add = ({ list }) => {\n  const [uploadFileDialog, setUploadFileDialog] = useState(false);\n  const toastRef = useToastContext();\n  const fileUploadRef = useRef(null);\n\n  const onTemplateRemove = (file, callback) => {\n    callback();\n  };\n\n  const itemTemplate = (file, props) => {\n    return (\n      <div className=\"flex align-items-center flex-wrap\">\n        <div className=\"flex align-items-center\" style={{ width: \"40%\" }}>\n          {file.type === \"image/svg+xml\" || file.type === \"image/jpeg\" ? (\n            <img\n              alt={file.name}\n              role=\"presentation\"\n              src={file.objectURL}\n              width={100}\n            />\n          ) : null}\n\n          <span className=\"flex flex-column text-left ml-3\">\n            {file.name}\n            <small>{new Date().toLocaleDateString()}</small>\n          </span>\n        </div>\n        <Tag\n          value={props.formatSize}\n          severity=\"warning\"\n          className=\"px-3 py-2\"\n        />\n        <Button\n          type=\"button\"\n          icon=\"pi pi-times\"\n          className=\"p-button-outlined p-button-rounded p-button-danger ml-auto\"\n          onClick={() => onTemplateRemove(file, props.onRemove)}\n        />\n      </div>\n    );\n  };\n\n  const emptyTemplate = () => {\n    return (\n      <div className=\"flex align-items-center flex-column\">\n        <i\n          className=\"pi pi-image mt-3 p-5\"\n          style={{\n            fontSize: \"5em\",\n            borderRadius: \"50%\",\n            backgroundColor: \"var(--surface-b)\",\n            color: \"var(--surface-d)\",\n          }}\n        />\n        <span\n          style={{ fontSize: \"1.2em\", color: \"var(--text-color-secondary)\" }}\n          className=\"my-5\"\n        >\n          Drag and Drop Image Here\n        </span>\n      </div>\n    );\n  };\n\n  const chooseOptions = {\n    label: \"Add \",\n    icon: \"pi pi-plus\",\n    className:\n      \"custom-cancel-btn p-button-success p-button-rounded p-button-outlined\",\n  };\n  const uploadOptions = {\n    label: \"Send \",\n    icon: \"pi pi-upload\",\n    className:\n      \"custom-cancel-btn p-button-warning p-button-rounded p-button-outlined\",\n  };\n  const cancelOptions = {\n    label: \"Cancel\",\n    icon: \"pi pi-fw pi-times\",\n    className:\n      \"custom-cancel-btn p-button-danger p-button-rounded p-button-outlined\",\n  };\n  const uploadHandler = (event) => {\n    console.log(\"ðŸš€ ~ file: Add.js ~ line 93 ~ uploadHandler ~ event\", event);\n    const body = {\n      listId: list.id,\n      files: event.files,\n    };\n\n    AddFile(body)\n      .then((res) => {\n        setUploadFileDialog(false);\n        toastRef.current.show({\n          severity: \"info\",\n          summary: \"Success\",\n          detail: \"Uploaded\",\n        });\n      })\n      .catch(() => {\n        toastRef.current.show({\n          severity: \"error\",\n          summary: \"Error\",\n          detail: \"Cannot upload files\",\n        });\n      });\n  };\n\n  return (\n    <>\n      <Dialog\n        visible={uploadFileDialog}\n        draggable={false}\n        onHide={() => setUploadFileDialog(false)}\n        style={{ width: \"50vw\" }}\n        header=\"Add files\"\n      >\n        <FileUpload\n          ref={fileUploadRef}\n          itemTemplate={itemTemplate}\n          emptyTemplate={emptyTemplate}\n          chooseOptions={chooseOptions}\n          uploadOptions={uploadOptions}\n          cancelOptions={cancelOptions}\n          multiple\n          customUpload\n          uploadHandler={uploadHandler}\n          maxFileSize={1000000}\n        />\n      </Dialog>\n      <Button\n        label=\"Add\"\n        icon=\"pi pi-plus\"\n        className=\"p-button-rounded p-button-success\"\n        onClick={() => setUploadFileDialog(true)}\n      />\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
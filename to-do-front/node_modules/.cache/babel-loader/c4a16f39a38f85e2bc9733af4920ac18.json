{"ast":null,"code":"var _jsxFileName = \"/Users/jakub/Documents/GitHub/To-Do/to-do-front/src/components/pages/List/Table/Table.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Add } from \"./Actions/Add\";\nimport Countdown from \"react-countdown\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Button } from \"primereact/button\";\nimport { Checkbox } from \"primereact/checkbox\";\nimport { UpdateItem } from \"../../../../services/ToDoService\";\nimport moment from \"moment\";\nimport { Edit } from \"./Actions/Edit\";\nimport { Delete } from \"./Actions/Delete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Table(_ref) {\n  _s();\n\n  let {\n    list,\n    fetchData\n  } = _ref;\n  const [sortedList, setSortedList] = useState([]);\n  var finishDate = new Date(list.finishDate);\n  console.log(list);\n  useEffect(() => {\n    setSortedList(list.items.sort((a, b) => {\n      const date1 = new Date(a.createdAt);\n      const date2 = new Date(b.createdAt);\n      return date1 - date2;\n    }));\n  }, [list]);\n\n  const finishedTemplate = row => {\n    function ChangeItemState(item) {\n      item.finished = !item.finished;\n      const body = {\n        listId: list.id,\n        item: item\n      };\n      UpdateItem(body).then(res => {\n        fetchData();\n      }).catch(error => {\n        console.log(error.message);\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(Checkbox, {\n      style: {\n        marginRight: \"5px\"\n      },\n      checked: row.finished,\n      onChange: () => {\n        ChangeItemState(row);\n      }\n    }, row.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  };\n\n  const actionsTemplate = row => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Edit, {\n        selectedItem: row,\n        list: list,\n        fetchData: fetchData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Delete, {\n        style: {\n          marginLeft: \"10px\"\n        },\n        selectedItem: row,\n        list: list,\n        fetchData: fetchData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ToDoItem\",\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        emptyMessage: \"Your list is empty! Add somethning using button bellow\",\n        value: list.items,\n        header: /*#__PURE__*/_jsxDEV(Topbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }, this),\n        footer: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }, this),\n        responsiveLayout: \"scroll\",\n        rowHover: true\n        /*\n        paginator\n        paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\n        rowsPerPageOptions={[8, 25, 50]}\n        rows={8}\n        */\n        ,\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          field: \"name\",\n          header: \"Name\",\n          style: {\n            wordBreak: \"break-all\",\n            wordWrap: \"break-word\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          header: \"Finished\",\n          body: finishedTemplate,\n          style: {\n            textAlign: \"center\",\n            width: \"58px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          header: \"Actions\",\n          body: actionsTemplate,\n          headerStyle: {\n            width: \"95px\"\n          },\n          style: {\n            textAlign: \"center\",\n            width: \"132px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n\n  function Topbar() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: list.name.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\",\n          display: \"flex\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Countdown, {\n          date: finishDate,\n          renderer: e => {\n            if (e.days >= 1) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"var(--green-500)\"\n                },\n                children: [\"Time left:\\xA0\", e.days, \" Days \", e.hours, \" hours \", e.minutes, \" minutes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this);\n            } else if (e.days < 1 && e.total > 0) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"var(--yellow-500)\"\n                },\n                children: [\"Time left:\\xA0\", e.days, \" Days \", e.hours, \" hours \", e.minutes, \" minutes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"var(--red-500)\",\n                  textAlign: \"right\"\n                },\n                children: [\"Attention your list is overdone! \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 54\n                }, this), \"Finish date:\\xA0\", moment(finishDate, \"HH:mm a\").calendar()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n\n  function Footer() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(AddNewFile, {\n        list: list\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddNewItem, {\n        fetchData: fetchData,\n        list: list\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Table, \"oGaKlvaqFEhAVl6w+/tsIdxBODQ=\");\n\n_c = Table;\nexport default Table;\n\nvar _c;\n\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["React","useEffect","useState","Add","Countdown","DataTable","Column","Button","Checkbox","UpdateItem","moment","Edit","Delete","Table","list","fetchData","sortedList","setSortedList","finishDate","Date","console","log","items","sort","a","b","date1","createdAt","date2","finishedTemplate","row","ChangeItemState","item","finished","body","listId","id","then","res","catch","error","message","marginRight","actionsTemplate","marginLeft","wordBreak","wordWrap","textAlign","width","Topbar","display","justifyContent","name","toUpperCase","e","days","color","hours","minutes","total","calendar","Footer"],"sources":["/Users/jakub/Documents/GitHub/To-Do/to-do-front/src/components/pages/List/Table/Table.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Add } from \"./Actions/Add\";\nimport Countdown from \"react-countdown\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Button } from \"primereact/button\";\nimport { Checkbox } from \"primereact/checkbox\";\nimport { UpdateItem } from \"../../../../services/ToDoService\";\nimport moment from \"moment\";\nimport { Edit } from \"./Actions/Edit\";\n\nimport { Delete } from \"./Actions/Delete\";\n\nfunction Table({ list, fetchData }) {\n  const [sortedList, setSortedList] = useState([]);\n  var finishDate = new Date(list.finishDate);\n\n  console.log(list);\n\n  useEffect(() => {\n    setSortedList(\n      list.items.sort((a, b) => {\n        const date1 = new Date(a.createdAt);\n        const date2 = new Date(b.createdAt);\n        return date1 - date2;\n      })\n    );\n  }, [list]);\n\n  const finishedTemplate = (row) => {\n    function ChangeItemState(item) {\n      item.finished = !item.finished;\n      const body = {\n        listId: list.id,\n        item: item,\n      };\n\n      UpdateItem(body)\n        .then((res) => {\n          fetchData();\n        })\n        .catch((error) => {\n          console.log(error.message);\n        });\n    }\n    return (\n      <Checkbox\n        style={{ marginRight: \"5px\" }}\n        key={row.id}\n        checked={row.finished}\n        onChange={() => {\n          ChangeItemState(row);\n        }}\n      />\n    );\n  };\n\n  const actionsTemplate = (row) => {\n    return (\n      <>\n        <Edit selectedItem={row} list={list} fetchData={fetchData} />\n\n        <Delete\n          style={{ marginLeft: \"10px\" }}\n          selectedItem={row}\n          list={list}\n          fetchData={fetchData}\n        />\n      </>\n    );\n  };\n\n  return (\n    <>\n      <div className=\"ToDoItem\">\n        <DataTable\n          emptyMessage={\n            \"Your list is empty! Add somethning using button bellow\"\n          }\n          value={list.items}\n          header={<Topbar />}\n          footer={<Footer />}\n          responsiveLayout=\"scroll\"\n          rowHover\n          /*\n          paginator\n          paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\n          rowsPerPageOptions={[8, 25, 50]}\n          rows={8}\n          */\n        >\n          <Column\n            field=\"name\"\n            header=\"Name\"\n            style={{\n              wordBreak: \"break-all\",\n              wordWrap: \"break-word\",\n            }}\n          />\n          <Column\n            header=\"Finished\"\n            body={finishedTemplate}\n            style={{ textAlign: \"center\", width: \"58px\" }}\n          />\n          <Column\n            header=\"Actions\"\n            body={actionsTemplate}\n            headerStyle={{ width: \"95px\" }}\n            style={{\n              textAlign: \"center\",\n              width: \"132px\",\n            }}\n          />\n        </DataTable>\n      </div>\n    </>\n  );\n\n  function Topbar() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          textAlign: \"center\",\n        }}\n      >\n        <h1>{list.name.toUpperCase()}</h1>\n        <h3 style={{ textAlign: \"center\", display: \"flex\" }}>\n          <Countdown\n            date={finishDate}\n            renderer={(e) => {\n              if (e.days >= 1) {\n                return (\n                  <div style={{ color: \"var(--green-500)\" }}>\n                    Time left:&nbsp;\n                    {e.days} Days {e.hours} hours {e.minutes} minutes\n                  </div>\n                );\n              } else if (e.days < 1 && e.total > 0) {\n                return (\n                  <div style={{ color: \"var(--yellow-500)\" }}>\n                    Time left:&nbsp;\n                    {e.days} Days {e.hours} hours {e.minutes} minutes\n                  </div>\n                );\n              } else {\n                return (\n                  <div\n                    style={{\n                      color: \"var(--red-500)\",\n                      textAlign: \"right\",\n                    }}\n                  >\n                    Attention your list is overdone! <br />\n                    Finish date:&nbsp;\n                    {moment(finishDate, \"HH:mm a\").calendar()}\n                  </div>\n                );\n              }\n            }}\n          />\n        </h3>\n      </div>\n    );\n  }\n  function Footer() {\n    return (\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <AddNewFile list={list} />\n        <AddNewItem fetchData={fetchData} list={list} />\n      </div>\n    );\n  }\n}\n\nexport default Table;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
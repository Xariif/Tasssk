{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jakub\\\\Documents\\\\GitHub\\\\To-Do\\\\to-do-front\\\\src\\\\components\\\\pages\\\\List\\\\Bar\\\\Actions\\\\New.js\",\n    _s = $RefreshSig$();\n\nimport { ConfirmDialog } from \"primereact/confirmdialog\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Button } from \"primereact/button\";\nimport { useState } from \"react\";\nimport { Calendar } from \"primereact/calendar\";\nimport useLocalStorage from \"../../../../../hooks/useLocalStorage\";\nimport { AddList } from \"../../../../../services/ToDoService\";\nimport { useToastContext } from \"../../../../../context/ToastContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction New(_ref, props) {\n  _s();\n\n  let {\n    loadData,\n    dateNow\n  } = _ref;\n  const toastRef = useToastContext();\n  const [newListDialog, setNewListDialog] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [date, setDate] = useState(new Date(new Date().setHours(0, 0, 0)));\n  const [listStorage, setListStorage] = useLocalStorage(\"selectedList\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      visible: newListDialog,\n      draggable: false,\n      onHide: () => {\n        setNewListDialog(false);\n        setName(\"\");\n        setDate();\n      },\n      message: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"p-input-icon-right\",\n          style: {\n            display: \"flex\",\n            marginTop: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"pi pi-book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InputText, {\n            style: {\n              width: \"100%\"\n            },\n            placeholder: \"Name\",\n            value: name,\n            onChange: e => {\n              setName(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            display: \"flex\",\n            marginTop: \"1rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            placeholder: \"Finish date\",\n            style: {\n              width: \"100%\"\n            },\n            showIcon: true,\n            id: \"time24\",\n            value: date,\n            onChange: e => {\n              setDate(new Date(e.value.setHours(0, 0, 0)));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            marginTop: \"1rem\",\n            alignItems: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            disabled: date != null ? false : true,\n            style: {\n              width: \"100%\"\n            },\n            showIcon: true,\n            icon: \"pi pi-clock\",\n            showTime: true,\n            timeOnly: true,\n            placeholder: \"Time\",\n            value: date,\n            onChange: e => {\n              setDate(new Date(date.setHours(e.value.getHours(), e.value.getMinutes(), e.value.getSeconds())));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            opacity: \"0.8\",\n            fontSize: \"0.8rem\"\n          },\n          children: [\"*If you set hours to 00:00\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), \" event will be setted for whole day!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true),\n      header: \"Create new list\",\n      accept: () => {\n        AddList({\n          listName: name,\n          finishDate: date\n        }).then(res => {\n          console.log(res);\n          setListStorage(name);\n          loadData();\n          toastRef.current.show({\n            severity: \"success\",\n            summary: \"Success \",\n            detail: res.message,\n            life: 5000\n          });\n        }).catch(error => {\n          toastRef.current.show({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: \"Something went wrong\",\n            life: 5000\n          });\n        }).finally(() => {\n          setNewListDialog(false);\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"p-button-rounded p-button-success\",\n      icon: \"pi pi-plus\",\n      style: {\n        marginRight: \"5px\"\n      },\n      label: \"New\",\n      onClick: () => {\n        setNewListDialog(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(New, \"zmdmO4K6N++3SiWjG6ErCX/Ss6o=\", false, function () {\n  return [useToastContext, useLocalStorage];\n});\n\n_c = New;\nexport default New;\n\nvar _c;\n\n$RefreshReg$(_c, \"New\");","map":{"version":3,"names":["ConfirmDialog","InputText","Button","useState","Calendar","useLocalStorage","AddList","useToastContext","New","props","loadData","dateNow","toastRef","newListDialog","setNewListDialog","name","setName","date","setDate","Date","setHours","listStorage","setListStorage","display","marginTop","width","e","target","value","alignItems","getHours","getMinutes","getSeconds","opacity","fontSize","listName","finishDate","then","res","console","log","current","show","severity","summary","detail","message","life","catch","error","finally","marginRight"],"sources":["C:/Users/jakub/Documents/GitHub/To-Do/to-do-front/src/components/pages/List/Bar/Actions/New.js"],"sourcesContent":["import { ConfirmDialog } from \"primereact/confirmdialog\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Button } from \"primereact/button\";\r\nimport { useState } from \"react\";\r\nimport { Calendar } from \"primereact/calendar\";\r\nimport useLocalStorage from \"../../../../../hooks/useLocalStorage\";\r\nimport { AddList } from \"../../../../../services/ToDoService\";\r\nimport { useToastContext } from \"../../../../../context/ToastContext\";\r\n\r\nfunction New({ loadData, dateNow }, props) {\r\n  const toastRef = useToastContext();\r\n  const [newListDialog, setNewListDialog] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [date, setDate] = useState(new Date(new Date().setHours(0, 0, 0)));\r\n  const [listStorage, setListStorage] = useLocalStorage(\"selectedList\");\r\n\r\n  return (\r\n    <>\r\n      <ConfirmDialog\r\n        visible={newListDialog}\r\n        draggable={false}\r\n        onHide={() => {\r\n          setNewListDialog(false);\r\n          setName(\"\");\r\n          setDate();\r\n        }}\r\n        message={\r\n          <>\r\n            <span\r\n              className=\"p-input-icon-right\"\r\n              style={{\r\n                display: \"flex\",\r\n                marginTop: \"1rem\",\r\n              }}\r\n            >\r\n              <i className=\"pi pi-book\" />\r\n              <InputText\r\n                style={{ width: \"100%\" }}\r\n                placeholder=\"Name\"\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n              />\r\n            </span>\r\n            <span\r\n              style={{\r\n                display: \"flex\",\r\n                marginTop: \"1rem\",\r\n              }}\r\n            >\r\n              <Calendar\r\n                placeholder=\"Finish date\"\r\n                style={{ width: \"100%\" }}\r\n                showIcon\r\n                id=\"time24\"\r\n                value={date}\r\n                onChange={(e) => {\r\n                  setDate(new Date(e.value.setHours(0, 0, 0)));\r\n                }}\r\n              />\r\n            </span>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                marginTop: \"1rem\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Calendar\r\n                disabled={date != null ? false : true}\r\n                style={{ width: \"100%\" }}\r\n                showIcon\r\n                icon=\"pi pi-clock\"\r\n                showTime\r\n                timeOnly\r\n                placeholder=\"Time\"\r\n                value={date}\r\n                onChange={(e) => {\r\n                  setDate(\r\n                    new Date(\r\n                      date.setHours(\r\n                        e.value.getHours(),\r\n                        e.value.getMinutes(),\r\n                        e.value.getSeconds()\r\n                      )\r\n                    )\r\n                  );\r\n                }}\r\n              />\r\n            </div>{\" \"}\r\n            <br />\r\n            <p style={{ opacity: \"0.8\", fontSize: \"0.8rem\" }}>\r\n              *If you set hours to 00:00\r\n              <br /> event will be setted for whole day!\r\n            </p>\r\n          </>\r\n        }\r\n        header=\"Create new list\"\r\n        accept={() => {\r\n          AddList({\r\n            listName: name,\r\n            finishDate: date,\r\n          })\r\n            .then((res) => {\r\n              console.log(res);\r\n              setListStorage(name);\r\n              loadData();\r\n\r\n              toastRef.current.show({\r\n                severity: \"success\",\r\n                summary: \"Success \",\r\n                detail: res.message,\r\n                life: 5000,\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              toastRef.current.show({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: \"Something went wrong\",\r\n                life: 5000,\r\n              });\r\n            })\r\n            .finally(() => {\r\n              setNewListDialog(false);\r\n            });\r\n        }}\r\n      />\r\n      <Button\r\n        className=\"p-button-rounded p-button-success\"\r\n        icon=\"pi pi-plus\"\r\n        style={{ marginRight: \"5px\" }}\r\n        label=\"New\"\r\n        onClick={() => {\r\n          setNewListDialog(true);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default New;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jakub\\\\Documents\\\\GitHub\\\\To-Do\\\\to-do-front\\\\src\\\\components\\\\pages\\\\List\\\\Bar\\\\File\\\\Actions\\\\Add.js\",\n    _s = $RefreshSig$();\n\nimport { FileUpload } from \"primereact/fileupload\";\nimport { useToastContext } from \"../../../../../../context/ToastContext\";\nimport { useRef } from \"react\";\nimport { Tag } from \"primereact/tag\";\nimport { useState } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Dialog } from \"primereact/dialog\";\nimport { AddFile } from \"../../../../../../services/ToDoService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Add = _ref => {\n  _s();\n\n  let {\n    list,\n    loadData\n  } = _ref;\n  const [uploadFileDialog, setUploadFileDialog] = useState(false);\n  const toastRef = useToastContext();\n  const fileUploadRef = useRef(null);\n\n  const onTemplateRemove = (file, callback) => {\n    callback();\n  };\n\n  const itemTemplate = (file, props) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex align-items-center flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex align-items-center\",\n        style: {\n          width: \"80%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex flex-column text-left ml-3\",\n          children: [file.name, /*#__PURE__*/_jsxDEV(\"small\", {\n            children: new Date().toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tag, {\n        value: props.formatSize,\n        severity: \"warning\",\n        className: \"px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        icon: \"pi pi-times\",\n        className: \"p-button-outlined p-button-rounded p-button-danger ml-auto\",\n        onClick: () => onTemplateRemove(file, props.onRemove)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this);\n  };\n\n  const progressBarTemplate = props => {\n    console.log(props);\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sending\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  };\n\n  const emptyTemplate = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex align-items-center flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"pi pi-image mt-3 p-5\",\n        style: {\n          fontSize: \"5em\",\n          borderRadius: \"50%\",\n          backgroundColor: \"var(--surface-b)\",\n          color: \"var(--surface-d)\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"1.2em\",\n          color: \"var(--text-color-secondary)\"\n        },\n        className: \"my-5\",\n        children: \"Drag and Drop Image Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  };\n\n  const chooseOptions = {\n    label: \"Add \",\n    icon: \"pi pi-plus\",\n    className: \"custom-cancel-btn p-button-success p-button-rounded p-button-outlined\"\n  };\n  const uploadOptions = {\n    label: \"Send \",\n    icon: \"pi pi-upload\",\n    className: \"custom-cancel-btn p-button-warning p-button-rounded p-button-outlined\"\n  };\n  const cancelOptions = {\n    label: \"Cancel\",\n    icon: \"pi pi-fw pi-times\",\n    className: \"custom-cancel-btn p-button-danger p-button-rounded p-button-outlined\"\n  };\n\n  const uploadHandler = event => {\n    const body = {\n      listId: list.id,\n      files: event.files\n    };\n    AddFile(body).then(res => {\n      setUploadFileDialog(false);\n      toastRef.current.show({\n        severity: \"success\",\n        summary: \"Success\",\n        detail: \"Uploaded\"\n      });\n      loadData();\n    }).catch(() => {\n      toastRef.current.show({\n        severity: \"error\",\n        summary: \"Error\",\n        detail: \"Cannot upload files\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      visible: uploadFileDialog,\n      draggable: false,\n      onHide: () => setUploadFileDialog(false),\n      style: {\n        width: \"50vw\"\n      },\n      header: \"Add files\",\n      children: /*#__PURE__*/_jsxDEV(FileUpload, {\n        ref: fileUploadRef,\n        itemTemplate: itemTemplate,\n        emptyTemplate: emptyTemplate,\n        chooseOptions: chooseOptions,\n        uploadOptions: uploadOptions,\n        progressBarTemplate: progressBarTemplate,\n        cancelOptions: cancelOptions,\n        multiple: true,\n        customUpload: true,\n        uploadHandler: uploadHandler,\n        maxFileSize: 50000000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      label: \"Add\",\n      icon: \"pi pi-plus\",\n      className: \"p-button-rounded p-button-success\",\n      onClick: () => setUploadFileDialog(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Add, \"q72X2YNJIeW/nsGnXiLMDF2w9wU=\", false, function () {\n  return [useToastContext];\n});\n\n_c = Add;\n\nvar _c;\n\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["FileUpload","useToastContext","useRef","Tag","useState","Button","Dialog","AddFile","Add","list","loadData","uploadFileDialog","setUploadFileDialog","toastRef","fileUploadRef","onTemplateRemove","file","callback","itemTemplate","props","width","name","Date","toLocaleDateString","formatSize","onRemove","progressBarTemplate","console","log","emptyTemplate","fontSize","borderRadius","backgroundColor","color","chooseOptions","label","icon","className","uploadOptions","cancelOptions","uploadHandler","event","body","listId","id","files","then","res","current","show","severity","summary","detail","catch"],"sources":["C:/Users/jakub/Documents/GitHub/To-Do/to-do-front/src/components/pages/List/Bar/File/Actions/Add.js"],"sourcesContent":["import { FileUpload } from \"primereact/fileupload\";\r\nimport { useToastContext } from \"../../../../../../context/ToastContext\";\r\nimport { useRef } from \"react\";\r\nimport { Tag } from \"primereact/tag\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { AddFile } from \"../../../../../../services/ToDoService\";\r\n\r\nexport const Add = ({ list, loadData }) => {\r\n  const [uploadFileDialog, setUploadFileDialog] = useState(false);\r\n  const toastRef = useToastContext();\r\n  const fileUploadRef = useRef(null);\r\n\r\n  const onTemplateRemove = (file, callback) => {\r\n    callback();\r\n  };\r\n\r\n  const itemTemplate = (file, props) => {\r\n    return (\r\n      <div className=\"flex align-items-center flex-wrap\">\r\n        <div className=\"flex align-items-center\" style={{ width: \"80%\" }}>\r\n          <span className=\"flex flex-column text-left ml-3\">\r\n            {file.name}\r\n            <small>{new Date().toLocaleDateString()}</small>\r\n          </span>\r\n        </div>\r\n        <Tag\r\n          value={props.formatSize}\r\n          severity=\"warning\"\r\n          className=\"px-3 py-2\"\r\n        />\r\n        <Button\r\n          type=\"button\"\r\n          icon=\"pi pi-times\"\r\n          className=\"p-button-outlined p-button-rounded p-button-danger ml-auto\"\r\n          onClick={() => onTemplateRemove(file, props.onRemove)}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const progressBarTemplate = (props) => {\r\n    console.log(props);\r\n    return <h1>Sending</h1>;\r\n  };\r\n\r\n  const emptyTemplate = () => {\r\n    return (\r\n      <div className=\"flex align-items-center flex-column\">\r\n        <i\r\n          className=\"pi pi-image mt-3 p-5\"\r\n          style={{\r\n            fontSize: \"5em\",\r\n            borderRadius: \"50%\",\r\n            backgroundColor: \"var(--surface-b)\",\r\n            color: \"var(--surface-d)\",\r\n          }}\r\n        />\r\n        <span\r\n          style={{ fontSize: \"1.2em\", color: \"var(--text-color-secondary)\" }}\r\n          className=\"my-5\"\r\n        >\r\n          Drag and Drop Image Here\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const chooseOptions = {\r\n    label: \"Add \",\r\n    icon: \"pi pi-plus\",\r\n    className:\r\n      \"custom-cancel-btn p-button-success p-button-rounded p-button-outlined\",\r\n  };\r\n  const uploadOptions = {\r\n    label: \"Send \",\r\n    icon: \"pi pi-upload\",\r\n    className:\r\n      \"custom-cancel-btn p-button-warning p-button-rounded p-button-outlined\",\r\n  };\r\n  const cancelOptions = {\r\n    label: \"Cancel\",\r\n    icon: \"pi pi-fw pi-times\",\r\n    className:\r\n      \"custom-cancel-btn p-button-danger p-button-rounded p-button-outlined\",\r\n  };\r\n  const uploadHandler = (event) => {\r\n    const body = {\r\n      listId: list.id,\r\n      files: event.files,\r\n    };\r\n\r\n    AddFile(body)\r\n      .then((res) => {\r\n        setUploadFileDialog(false);\r\n        toastRef.current.show({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Uploaded\",\r\n        });\r\n        loadData();\r\n      })\r\n      .catch(() => {\r\n        toastRef.current.show({\r\n          severity: \"error\",\r\n          summary: \"Error\",\r\n          detail: \"Cannot upload files\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        visible={uploadFileDialog}\r\n        draggable={false}\r\n        onHide={() => setUploadFileDialog(false)}\r\n        style={{ width: \"50vw\" }}\r\n        header=\"Add files\"\r\n      >\r\n        <FileUpload\r\n          ref={fileUploadRef}\r\n          itemTemplate={itemTemplate}\r\n          emptyTemplate={emptyTemplate}\r\n          chooseOptions={chooseOptions}\r\n          uploadOptions={uploadOptions}\r\n          progressBarTemplate={progressBarTemplate}\r\n          cancelOptions={cancelOptions}\r\n          multiple\r\n          customUpload\r\n          uploadHandler={uploadHandler}\r\n          maxFileSize={50000000}\r\n        />\r\n      </Dialog>\r\n      <Button\r\n        label=\"Add\"\r\n        icon=\"pi pi-plus\"\r\n        className=\"p-button-rounded p-button-success\"\r\n        onClick={() => setUploadFileDialog(true)}\r\n      />\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
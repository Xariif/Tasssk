import*as e from"react";import{CSSTransition as r}from"primereact/csstransition";import{useMountEffect as n}from"primereact/hooks";import{UniqueComponentId as t,ObjectUtils as o,classNames as a,IconUtils as l}from"primereact/utils";function i(){return i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(this,arguments)}function c(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function p(e){if(Array.isArray(e))return s(e)}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,r){if(e){if("string"==typeof e)return s(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,r):void 0}}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){if(Array.isArray(e))return e}function b(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,r){return m(e)||b(e,r)||d(e,r)||y()}function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){c(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var O=function(){},E=e.forwardRef((function(c,s){var m=h(e.useState(c.id),2),b=m[0],y=m[1],v=h(e.useState(c.activeIndex),2),N=v[0],T=v[1],j=e.useRef(null),S=c.onTabChange?c.activeIndex:N,P=function(e){return e&&"AccordionTab"===e.props.__TYPE},w=function(e,r,n){if(!r.props.disabled){var t=I(n),o=null;if(c.multiple){var a=S||[];o=t?a.filter((function(e){return e!==n})):[].concat(p(i=a)||u(i)||d(i)||f(),[n])}else o=t?null:n;var l=t?c.onTabClose:c.onTabOpen;l&&l({originalEvent:e,index:n}),c.onTabChange?c.onTabChange({originalEvent:e,index:o}):T(o)}var i;e.preventDefault()},I=function(e){return c.multiple?S&&S.some((function(r){return r===e})):S===e};e.useImperativeHandle(s,(function(){return{props:c,getElement:function(){return j.current}}})),n((function(){b||y(t())}));var _=function(r,n,t){var i=g(g({},r.props.style||{}),r.props.headerStyle||{}),s=a("p-accordion-header",{"p-highlight":n,"p-disabled":r.props.disabled},r.props.headerClassName,r.props.className),p=b+"_header_"+t,u=b+"_content_"+t,d=r.props.disabled?-1:null,f=r.props.headerTemplate?o.getJSXElement(r.props.headerTemplate,r.props):e.createElement("span",{className:"p-accordion-header-text"},r.props.header),m=l.getJSXIcon(n?c.collapseIcon:c.expandIcon,{className:"p-accordion-toggle-icon"},{props:c,selected:n});return e.createElement("div",{className:s,style:i},e.createElement("a",{href:"#"+u,id:p,className:"p-accordion-header-link","aria-controls":u,role:"tab","aria-expanded":n,onClick:function(e){return w(e,r,t)},tabIndex:d},m,f))},x=function(n,t,o){var l=g(g({},n.props.style||{}),n.props.contentStyle||{}),i=a("p-toggleable-content",n.props.contentClassName,n.props.className),s=b+"_content_"+o,p=b+"_header_"+o,u=e.createRef();return e.createElement(r,{nodeRef:u,classNames:"p-toggleable-content",timeout:{enter:1e3,exit:450},in:t,unmountOnExit:!0,options:c.transitionOptions},e.createElement("div",{ref:u,id:s,className:i,style:l,role:"region","aria-labelledby":p},e.createElement("div",{className:"p-accordion-content"},n.props.children)))},A=function(r,n){if(P(r)){var t=b+"_"+n,l=I(n),c=o.findDiffKeys(r.props,O.defaultProps),s=_(r,l,n),p=x(r,l,n),u=a("p-accordion-tab",{"p-accordion-tab-active":l});return e.createElement("div",i({key:t,className:u},c),s,p)}return null},C=o.findDiffKeys(c,E.defaultProps),D=a("p-accordion p-component",c.className),k=e.Children.map(c.children,A);return e.createElement("div",i({id:b,ref:j,className:D,style:c.style},C),k)}));O.displayName="AccordionTab",O.defaultProps={__TYPE:"AccordionTab",header:null,disabled:!1,style:null,className:null,headerStyle:null,headerClassName:null,headerTemplate:null,contentStyle:null,contentClassName:null},E.displayName="Accordion",E.defaultProps={__TYPE:"Accordion",id:null,activeIndex:null,className:null,style:null,multiple:!1,expandIcon:"pi pi-chevron-right",collapseIcon:"pi pi-chevron-down",transitionOptions:null,onTabOpen:null,onTabClose:null,onTabChange:null};export{E as Accordion,O as AccordionTab};
